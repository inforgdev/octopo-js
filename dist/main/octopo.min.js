function e(e){return{type:"arg",expression:e}}function n(e,n){return{type:"param",name:e,default:n}}var a=Object.freeze({__proto__:null,_call:function(e,n){return{type:"call",name:e,args:n}},_arg:e,_dec:function(e,n){return{type:"dec",prop:e,value:n}},_var:function(e,n){return{type:"v",name:e,expression:n}},_val:function(e){return{type:"val",expression:e}},_ref:function(e){return{type:"ref",name:e}},_mixin:function(e,n,a){return{type:"mixin",name:e,params:n,body:a}},_param:n,_args:function(...n){let a=[];for(let t in n){let _=n[t];a.push(e(_))}return a},_params:function(...e){let a=[];for(let t in e){let _=e[t],r=_[0],l=_[1];a.push(n(r,l))}return a}});function t(e,n=data){return"ref"!==e.type?unexpected(e):n.ref.replaceAll("_NAME_",e.name)}function _(e,n=data){return"val"!==e.type?unexpected(e):n.val.replaceAll("_NAME_",e.expression)}function r(e,n=data){if(void 0===e)return unexpected(e);switch(e.type){case"ref":return t(e,n);case"val":return _(e,n);default:return unexpected(e)}}function l(e,n=data){if("v"!==e.type)return unexpected(e);let a=r(e.expression,n);return n.var.replaceAll("_NAME_",e.name).replaceAll("_EXPRESSION_",a)}function p(e,n=data){if("dec"!==e.type)return unexpected(e);let a=r(e.value,n);return n.dec.replaceAll("_PROP_",e.prop).replaceAll("_VALUE_",a)}function i(e,n=data){return"param"!==e.type?unexpected(e):e.default?n.paramDefault.replaceAll("_NAME_",e.name).replaceAll("_DEFAULT_",e.default):n.param.replaceAll("_NAME_",e.name)}function d(e,n=data){let a=[];if(Array.isArray(e))for(let t in e)a.push(i(e[t],n));else a.push(i(e,n));return a.join(n.paramSep)}function u(e,n=data){return"arg"!==e.type?unexpected(e):r(e.expression,n)}function c(e,n=data){let a=[];if(Array.isArray(e))for(let t in e)a.push(u(e[t],n));else a.push(u(e,n));return a.join(n.argSep)}function A(e,n=data){return"call"!==e.type?unexpected(e):n.call.replace("_NAME_",e.name).replaceAll("_ARGS_",c(e.args,n))}function E(e,n=data){if("mixin"!==e.type)return unexpected(e);let a=n.mixin.replaceAll("_NAME_",e.name).replaceAll("_PARAMS_",d(e.params,n)).replaceAll("_BODY_",s(e.body,n));return n.needBrln&&(a+="\n"),a}function s(e,n=data){let a=e,t="";for(let e in a){let _,r=a[e];switch(r.type){case"call":_=A(r,n);break;case"v":_=l(r,n);break;case"dec":_=p(r,n);break;case"mixin":_=E(r,n);break;default:return unexpected(r)}let i=n.statementEnd;e!=a.length-1||n.needLastStatementEnd||(i=""),n.needBrln&&(i+="\n"),t=t+n.indent+_+i}return t}function m(e,n=data){if(void 0===e)return propUndefined("ast");if(void 0===n)return propUndefined("lang");let a="";for(let t in e){let _,r=e[t];switch(r.type){case"call":_=A(r,n);break;case"v":_=l(r,n);break;case"mixin":_=E(r,n);break;default:return unexpected(r)}let p=n.statementEnd;(t==e.length-1&&!n.needLastStatementEnd||"mixin"===r.type)&&(p=""),n.needBrln&&"mixin"!==r.type&&(p+="\n"),a=a+_+p}return a}var f=Object.freeze({__proto__:null,$ref:t,$val:_,$exp:r,$var:l,$dec:p,$param:i,$params:d,$arg:u,$args:c,$call:A,$mixin:E,$body:s,$globalStatements:m}),o=Object.freeze({__proto__:null,less:{var:"@_NAME_: _EXPRESSION_",mixin:"._NAME_(_PARAMS_) {\n_BODY_}",dec:"_PROP_: _VALUE_",param:"@_NAME_",paramDefault:"@_NAME_: _DEFAULT_",call:"._NAME_(_ARGS_)",ref:"@_NAME_",val:"_NAME_",arg:"",argSep:", ",paramSep:", ",statementEnd:";",needLastStatementEnd:!0,indent:"  ",needBrln:!0,wordSep:"-",extname:".less"},lessMin:{var:"@_NAME_:_EXPRESSION_",mixin:"._NAME_(_PARAMS_){_BODY_}",dec:"_PROP_:_VALUE_",param:"@_NAME_",paramDefault:"@_NAME_:_DEFAULT_",call:"._NAME_(_ARGS_)",ref:"@_NAME_",val:"_NAME_",arg:"",argSep:",",paramSep:",",statementEnd:";",needLastStatementEnd:!1,indent:"",needBrln:!1,wordSep:"-",extname:".less"},scss:{var:"$_NAME_: _EXPRESSION_",mixin:"@mixin _NAME_(_PARAMS_) {\n_BODY_}",dec:"_PROP_: _VALUE_",param:"$_NAME_",paramDefault:"$_NAME_: _DEFAULT_",call:"@include _NAME_(_ARGS_)",ref:"$_NAME_",val:"_NAME_",arg:"",argSep:", ",paramSep:", ",statementEnd:";",needLastStatementEnd:!0,indent:"  ",needBrln:!0,wordSep:"-",extname:".scss"},scssMin:{var:"$_NAME_:_EXPRESSION_",mixin:"@mixin _NAME_(_PARAMS_){_BODY_}",dec:"_PROP_:_VALUE_",param:"$_NAME_",paramDefault:"$_NAME_:_DEFAULT_",call:"@include _NAME_(_ARGS_)",ref:"$_NAME_",val:"_NAME_",arg:"",argSep:",",paramSep:",",statementEnd:";",needLastStatementEnd:!1,indent:"",needBrln:!1,wordSep:"-",extname:".scss"},styl:{var:"_NAME_ = _EXPRESSION_",mixin:"_NAME_(_PARAMS_) {\n_BODY_}",dec:"_PROP_: _VALUE_",param:"_NAME_",paramDefault:"_NAME_ = _DEFAULT_",call:"._NAME_(_ARGS_)",ref:"_NAME_",val:"_NAME_",arg:"",argSep:", ",paramSep:", ",statementEnd:";",needLastStatementEnd:!0,indent:"  ",needBrln:!0,wordSep:"-",extname:".styl"},stylMin:{var:"_NAME_=_EXPRESSION_",mixin:"_NAME_(_PARAMS_){_BODY_}",dec:"_PROP_:_VALUE_",param:"_NAME_",paramDefault:"_NAME_=_DEFAULT_",call:"._NAME_(_ARGS_)",ref:"_NAME_",val:"_NAME_",arg:"",argSep:",",paramSep:",",statementEnd:";",needLastStatementEnd:!1,indent:"",needBrln:!1,wordSep:"-",extname:".styl"}});var M=Object.freeze({__proto__:null,unexpected:function(e){console.log("Illegal argument exception: "+JSON.stringify(e,null,2))},propUndefined:function(e){console.log(`${e} is undefined`)}});function S(e,n){return m(e,n.grammar)}export{S as default,a as factory,o as langs,M as logger,f as stringifier,S as stringifyProc};
